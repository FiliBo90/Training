<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Workout Progress Tracker</title>
  <!-- Tailwind CSS desde CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Chart.js desde CDN -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    /* Estilos personalizados para mejoras gráficas */
    .nav-link:hover {
      color: #FFD700;
    }
    .section {
      animation: fadeIn 0.5s ease-in-out;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    header, footer {
      background: linear-gradient(90deg, #2563eb, #1e40af);
    }
  </style>
</head>
<body class="bg-gray-100 text-gray-900">
  <!-- Navbar -->
  <header class="text-white p-4 shadow-md">
    <div class="container mx-auto flex flex-wrap justify-between items-center">
      <h1 class="text-2xl font-bold">Workout Progress Tracker</h1>
      <nav class="space-x-4">
        <button class="nav-link hover:underline" data-section="home">Inicio</button>
        <button class="nav-link hover:underline" data-section="rutinas">Rutinas</button>
        <button class="nav-link hover:underline" data-section="registro">Registro</button>
        <button class="nav-link hover:underline" data-section="movilidad">Movilidad</button>
        <button class="nav-link hover:underline" data-section="fundamentos">Fundamentos</button>
      </nav>
    </div>
  </header>

  <!-- Secciones -->
  <main class="container mx-auto p-4">
    <!-- Sección Inicio -->
    <section id="section-home" class="section">
      <h2 class="text-xl font-bold mb-4">Bienvenido</h2>
      <p class="mb-2">
        Esta app te ayudará a seguir tu progreso en el entrenamiento, basada en un plan de 6 meses que combina fuerza e hipertrofia. Aquí encontrarás rutinas distribuidas en 4 días por fase, ejercicios con alternativas, una sección para registrar tus progresos, una pestaña de movilidad y un apartado de fundamentos con información esencial sobre nutrición, mentalidad, entrenamiento, descanso y suplementación.
      </p>
      <p>Utiliza la barra de navegación para explorar cada sección.</p>
    </section>

    <!-- Sección Rutinas -->
    <section id="section-rutinas" class="section hidden">
      <h2 class="text-xl font-bold mb-4">Rutinas</h2>
      <div class="mb-4 space-y-2">
        <label class="block">
          Selecciona la Fase (Meses):
          <select id="select-fase" class="mt-1 p-2 border rounded w-full">
            <option value="fase1">Fase 1: Base de Fuerza y Técnica (Meses 1-2)</option>
            <option value="fase2">Fase 2: Hipertrofia y Funcionalidad (Meses 3-4)</option>
            <option value="fase3">Fase 3: Fuerza, Potencia y Definición (Meses 5-6)</option>
          </select>
        </label>
        <label class="block">
          Selecciona el Día:
          <select id="select-dia" class="mt-1 p-2 border rounded w-full">
            <option value="dia1">Día 1</option>
            <option value="dia2">Día 2</option>
            <option value="dia3">Día 3</option>
            <option value="dia4">Día 4</option>
          </select>
        </label>
      </div>
      <div id="routine-content" class="bg-white rounded shadow p-4">
        <!-- Aquí se mostrará la rutina correspondiente -->
      </div>
    </section>

    <!-- Sección Registro -->
    <section id="section-registro" class="section hidden">
      <h2 class="text-xl font-bold mb-4">Registro de Progreso</h2>
      <p class="mb-2">
        Registra los pesos de cada serie para cada ejercicio y visualiza un gráfico con tu evolución.
      </p>
      <div id="registro-form" class="bg-white rounded shadow p-4 mb-4">
        <div id="registro-inputs"></div>
        <button id="btn-guardar" class="mt-4 px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600">Guardar Progreso</button>
      </div>
      <div class="bg-white rounded shadow p-4">
        <h3 class="font-bold mb-2">Gráfico de Progreso</h3>
        <canvas id="progressChart"></canvas>
      </div>
    </section>

    <!-- Sección Movilidad -->
    <section id="section-movilidad" class="section hidden">
      <h2 class="text-xl font-bold mb-4">Movilidad, Calentamiento y Estiramiento</h2>
      <ul class="list-disc list-inside space-y-2">
        <li><strong>Calentamiento Dinámico:</strong> Realiza 5-10 minutos de movilidad articular (rotaciones de cuello, hombros, caderas y tobillos) y activación muscular (ej. saltos suaves o trote en el lugar).</li>
        <li><strong>Movilidad Específica:</strong> Incorpora ejercicios como estiramientos dinámicos, sentadillas profundas, estiramientos de isquiotibiales y movimientos de rotación de tronco.</li>
        <li><strong>Estiramiento Estático:</strong> Al final de cada sesión, dedica 10 minutos a estirar los grupos musculares principales, manteniendo cada estiramiento durante 20-30 segundos.</li>
        <li><strong>Rutinas de Recuperación:</strong> Usa foam rolling o yoga suave para liberar tensiones y mejorar la circulación.</li>
      </ul>
    </section>

    <!-- Sección Fundamentos -->
    <section id="section-fundamentos" class="section hidden">
      <h2 class="text-xl font-bold mb-4">Fundamentos</h2>
      <ul class="list-disc list-inside space-y-2">
        <li><strong>Mentalidad:</strong> El compromiso, la responsabilidad y la constancia son la base de cualquier transformación. La mentalidad correcta te impulsa a actuar y superar obstáculos.</li>
        <li><strong>Nutrición:</strong> Una dieta equilibrada y real es esencial. Prioriza alimentos integrales, sigue tus macros y ajusta las calorías según tus objetivos (definición, ganancia o recomposición).</li>
        <li><strong>Entrenamiento:</strong> La técnica y la progresión son fundamentales. Los ejercicios compuestos y la sobrecarga progresiva permiten maximizar resultados en fuerza e hipertrofia.</li>
        <li><strong>Descanso y Recuperación:</strong> El sueño de calidad y el descanso activo son imprescindibles para la regeneración muscular y el progreso a largo plazo.</li>
        <li><strong>Suplementación:</strong> Suplementos como creatina, proteína whey, omega-3 y vitamina D3 pueden potenciar tus resultados si se usan correctamente.</li>
      </ul>
    </section>
  </main>

  <!-- Footer -->
  <footer class="text-white p-4 mt-8 text-center">
    &copy; 2025 Workout Progress Tracker. Todos los derechos reservados.
  </footer>

  <!-- Script JS -->
  <script>
    // Datos de rutinas basados en la programación propuesta
    const routines = {
      // Fase 1: Base de Fuerza y Técnica
      fase1: {
        dia1: {
          title: "Tren Inferior y Core",
          exercises: [
            { 
              name: "Sentadilla con barra", 
              sets: 4, 
              reps: "5-6", 
              tempo: "2-0-1-0", 
              rest: "2:30 min", 
              alternatives: "Prensa de piernas o sentadilla búlgara con mancuernas" 
            },
            { 
              name: "Peso muerto rumano", 
              sets: 3, 
              reps: "6-8", 
              tempo: "2-0-1-0", 
              rest: "2 min", 
              alternatives: "Peso muerto con mancuernas" 
            },
            { 
              name: "Extensiones de cuádriceps (máquina)", 
              sets: 3, 
              reps: "10-12", 
              tempo: "2-0-2-0", 
              rest: "60-90 seg", 
              alternatives: "Sentadilla frontal ligera" 
            },
            { 
              name: "Elevación de talones", 
              sets: 3, 
              reps: "12-15", 
              tempo: "2-0-1-0", 
              rest: "60 seg", 
              alternatives: "Elevación en máquina" 
            },
            { 
              name: "Plancha frontal (Core)", 
              sets: 3, 
              reps: "45-60 seg", 
              tempo: "-", 
              rest: "-", 
              alternatives: "Plancha lateral" 
            }
          ]
        },
        dia2: {
          title: "Tren Superior (Pecho, Espalda, Hombros)",
          exercises: [
            { 
              name: "Press de banca con barra", 
              sets: 4, 
              reps: "5-6", 
              tempo: "2-0-1-0", 
              rest: "2-3 min", 
              alternatives: "Press con mancuernas" 
            },
            { 
              name: "Remo con barra", 
              sets: 4, 
              reps: "5-6", 
              tempo: "2-0-1-0", 
              rest: "2-3 min", 
              alternatives: "Remo con mancuernas" 
            },
            { 
              name: "Press militar con barra", 
              sets: 3, 
              reps: "6-8", 
              tempo: "2-0-1-0", 
              rest: "2 min", 
              alternatives: "Press militar con mancuernas" 
            },
            { 
              name: "Dominadas o jalón en polea", 
              sets: 3, 
              reps: "8-10", 
              tempo: "2-0-1-0", 
              rest: "90 seg", 
              alternatives: "Dominadas asistidas" 
            }
          ]
        },
        dia3: {
          title: "Tren Superior (Brazos y Core)",
          exercises: [
            { 
              name: "Curl de bíceps con barra", 
              sets: 3, 
              reps: "8-10", 
              tempo: "2-0-2-0", 
              rest: "60 seg", 
              alternatives: "Curl con mancuernas" 
            },
            { 
              name: "Extensión de tríceps en polea", 
              sets: 3, 
              reps: "8-10", 
              tempo: "2-0-2-0", 
              rest: "60 seg", 
              alternatives: "Fondos en banco" 
            },
            { 
              name: "Fondos en banco", 
              sets: 3, 
              reps: "8-10", 
              tempo: "2-0-1-0", 
              rest: "60 seg", 
              alternatives: "Flexiones de brazos" 
            },
            { 
              name: "Remo al mentón", 
              sets: 3, 
              reps: "8-10", 
              tempo: "2-0-2-0", 
              rest: "60 seg", 
              alternatives: "Elevaciones laterales" 
            },
            { 
              name: "Crunch abdominal", 
              sets: 3, 
              reps: "12-15", 
              tempo: "-", 
              rest: "-", 
              alternatives: "Plancha con toque de hombro" 
            }
          ]
        },
        dia4: {
          title: "Full Body y Cardio HIIT",
          exercises: [
            { 
              name: "Peso muerto convencional", 
              sets: 4, 
              reps: "4-6", 
              tempo: "2-0-1-0", 
              rest: "2:30 min", 
              alternatives: "Peso muerto con mancuerna" 
            },
            { 
              name: "Sentadilla frontal o goblet squat", 
              sets: 3, 
              reps: "8-10", 
              tempo: "2-0-2-0", 
              rest: "90 seg", 
              alternatives: "Sentadilla con barra" 
            },
            { 
              name: "Press de banca (ligero)", 
              sets: 3, 
              reps: "8-10", 
              tempo: "2-0-2-0", 
              rest: "90 seg", 
              alternatives: "Press con mancuernas" 
            },
            { 
              name: "Finisher HIIT", 
              sets: 1, 
              reps: "10 min de intervalos", 
              tempo: "30 seg on / 30 seg off", 
              rest: "-", 
              alternatives: "Sprints en cinta o cuerda" 
            }
          ]
        }
      },
      // Fase 2: Hipertrofia y Funcionalidad
      fase2: {
        dia1: {
          title: "Tren Inferior (Hipertrofia)",
          exercises: [
            { 
              name: "Sentadilla frontal", 
              sets: 4, 
              reps: "8-10", 
              tempo: "2-0-2-0", 
              rest: "90-120 seg", 
              alternatives: "Prensa o sentadilla búlgara" 
            },
            { 
              name: "Peso muerto rumano", 
              sets: 3, 
              reps: "8-10", 
              tempo: "2-0-2-0", 
              rest: "90-120 seg", 
              alternatives: "Peso muerto con mancuernas" 
            },
            { 
              name: "Zancadas con mancuernas", 
              sets: 3, 
              reps: "10-12 por pierna", 
              tempo: "2-0-2-0", 
              rest: "60-90 seg", 
              alternatives: "Step-up" 
            },
            { 
              name: "Elevaciones de gemelos", 
              sets: 3, 
              reps: "15", 
              tempo: "2-0-1-0", 
              rest: "60 seg", 
              alternatives: "Elevación en máquina" 
            }
          ]
        },
        dia2: {
          title: "Tren Superior (Pecho y Espalda)",
          exercises: [
            { 
              name: "Press de banca (barra o mancuernas)", 
              sets: 4, 
              reps: "8-10", 
              tempo: "2-0-2-0", 
              rest: "90-120 seg", 
              alternatives: "Press inclinado con mancuernas" 
            },
            { 
              name: "Remo con barra o máquina", 
              sets: 4, 
              reps: "8-10", 
              tempo: "2-0-2-0", 
              rest: "90-120 seg", 
              alternatives: "Remo con mancuernas" 
            },
            { 
              name: "Aperturas con mancuernas", 
              sets: 3, 
              reps: "10-12", 
              tempo: "2-0-2-0", 
              rest: "60 seg", 
              alternatives: "Press en máquina" 
            },
            { 
              name: "Jalón en polea", 
              sets: 3, 
              reps: "10-12", 
              tempo: "2-0-2-0", 
              rest: "60 seg", 
              alternatives: "Dominadas asistidas" 
            }
          ]
        },
        dia3: {
          title: "Tren Superior (Hombros y Brazos)",
          exercises: [
            { 
              name: "Press militar con mancuernas", 
              sets: 3, 
              reps: "8-10", 
              tempo: "2-0-2-0", 
              rest: "90 seg", 
              alternatives: "Elevaciones frontales" 
            },
            { 
              name: "Elevaciones laterales", 
              sets: 3, 
              reps: "10-12", 
              tempo: "-", 
              rest: "60 seg", 
              alternatives: "Elevaciones posteriores" 
            },
            { 
              name: "Curl de bíceps", 
              sets: 3, 
              reps: "10-12", 
              tempo: "2-0-2-0", 
              rest: "60 seg", 
              alternatives: "Curl concentrado" 
            },
            { 
              name: "Extensión de tríceps", 
              sets: 3, 
              reps: "10-12", 
              tempo: "2-0-2-0", 
              rest: "60 seg", 
              alternatives: "Fondos en banco" 
            },
            { 
              name: "Remo al mentón", 
              sets: 3, 
              reps: "8-10", 
              tempo: "2-0-2-0", 
              rest: "60 seg", 
              alternatives: "Encogimientos con barra" 
            }
          ]
        },
        dia4: {
          title: "Full Body y Core con HIIT",
          exercises: [
            { 
              name: "Peso muerto convencional", 
              sets: 3, 
              reps: "6-8", 
              tempo: "2-0-1-0", 
              rest: "2 min", 
              alternatives: "Peso muerto con mancuernas" 
            },
            { 
              name: "Sentadilla con barra", 
              sets: 3, 
              reps: "6-8", 
              tempo: "2-0-1-0", 
              rest: "2 min", 
              alternatives: "Sentadilla con mancuernas" 
            },
            { 
              name: "Press de banca", 
              sets: 3, 
              reps: "6-8", 
              tempo: "2-0-1-0", 
              rest: "2 min", 
              alternatives: "Press con mancuernas" 
            },
            { 
              name: "Circuito de core", 
              sets: "3 rondas", 
              reps: "10 burpees, 15 mountain climbers, 20 seg de plancha", 
              tempo: "-", 
              rest: "60 seg entre rondas", 
              alternatives: "Circuito funcional alternativo" 
            },
            { 
              name: "HIIT Finisher", 
              sets: 1, 
              reps: "12 min (30 seg on / 30 seg off)", 
              tempo: "-", 
              rest: "-", 
              alternatives: "Sprints en cinta o cuerda" 
            }
          ]
        }
      },
      // Fase 3: Fuerza, Potencia y Definición
      fase3: {
        dia1: {
          title: "Fuerza Inferior",
          exercises: [
            { 
              name: "Sentadilla con barra", 
              sets: 4, 
              reps: "3-5", 
              tempo: "Explosivo (1-0-1-0)", 
              rest: "3 min", 
              alternatives: "Sentadilla con mancuernas pesadas" 
            },
            { 
              name: "Peso muerto convencional", 
              sets: 4, 
              reps: "3-5", 
              tempo: "2-0-1-0", 
              rest: "3 min", 
              alternatives: "Peso muerto con mancuerna" 
            },
            { 
              name: "Prensa de piernas", 
              sets: 3, 
              reps: "4-6", 
              tempo: "2-0-1-0", 
              rest: "3 min", 
              alternatives: "Sentadilla hack" 
            },
            { 
              name: "Elevación de gemelos pesadas", 
              sets: 3, 
              reps: "6-8", 
              tempo: "2-0-1-0", 
              rest: "2 min", 
              alternatives: "Elevación de talones en máquina" 
            }
          ]
        },
        dia2: {
          title: "Fuerza Superior",
          exercises: [
            { 
              name: "Press de banca", 
              sets: 4, 
              reps: "3-5", 
              tempo: "Explosivo", 
              rest: "3 min", 
              alternatives: "Press de banca con mancuernas" 
            },
            { 
              name: "Remo con barra", 
              sets: 4, 
              reps: "3-5", 
              tempo: "2-0-1-0", 
              rest: "3 min", 
              alternatives: "Remo con mancuernas" 
            },
            { 
              name: "Press militar", 
              sets: 3, 
              reps: "3-5", 
              tempo: "Explosivo", 
              rest: "2-3 min", 
              alternatives: "Press militar con mancuernas" 
            },
            { 
              name: "Dominadas con lastre", 
              sets: 3, 
              reps: "3-5", 
              tempo: "2-0-1-0", 
              rest: "3 min", 
              alternatives: "Dominadas asistidas" 
            }
          ]
        },
        dia3: {
          title: "Explosividad y Potencia (Full Body)",
          exercises: [
            { 
              name: "Power Clean o Push Press", 
              sets: 4, 
              reps: "4-6", 
              tempo: "Explosivo", 
              rest: "2-3 min", 
              alternatives: "Kettlebell swings" 
            },
            { 
              name: "Sentadilla frontal", 
              sets: 3, 
              reps: "6-8", 
              tempo: "2-0-1-0", 
              rest: "2 min", 
              alternatives: "Goblet squat" 
            },
            { 
              name: "Remo explosivo", 
              sets: 3, 
              reps: "6-8", 
              tempo: "Explosivo", 
              rest: "2 min", 
              alternatives: "Remo en TRX" 
            },
            { 
              name: "Plyometric push-ups", 
              sets: 3, 
              reps: "6-8", 
              tempo: "-", 
              rest: "2 min", 
              alternatives: "Flexiones explosivas" 
            }
          ]
        },
        dia4: {
          title: "Circuito de Recuperación Activa, Movilidad y Estiramiento",
          exercises: [
            { 
              name: "Cardio ligero (caminata o bici)", 
              sets: 1, 
              reps: "10 min", 
              tempo: "-", 
              rest: "-", 
              alternatives: "Elíptica a ritmo suave" 
            },
            { 
              name: "Rutina de movilidad", 
              sets: 3, 
              reps: "30 seg por ejercicio", 
              tempo: "-", 
              rest: "30 seg entre ejercicios", 
              alternatives: "Estiramientos dinámicos" 
            },
            { 
              name: "Estiramientos estáticos", 
              sets: 1, 
              reps: "10 min", 
              tempo: "-", 
              rest: "-", 
              alternatives: "Yoga suave o foam rolling" 
            }
          ]
        }
      }
    };

    // Variables globales
    let currentFase = "fase1";
    let currentDia = "dia1";
    let progressData = JSON.parse(localStorage.getItem("progressData")) || [];

    // Referencias a elementos DOM
    const sections = {
      home: document.getElementById("section-home"),
      rutinas: document.getElementById("section-rutinas"),
      registro: document.getElementById("section-registro"),
      movilidad: document.getElementById("section-movilidad"),
      fundamentos: document.getElementById("section-fundamentos")
    };
    const navLinks = document.querySelectorAll(".nav-link");
    const selectFase = document.getElementById("select-fase");
    const selectDia = document.getElementById("select-dia");
    const routineContent = document.getElementById("routine-content");
    const registroInputs = document.getElementById("registro-inputs");
    const btnGuardar = document.getElementById("btn-guardar");
    const progressChartCtx = document.getElementById("progressChart").getContext("2d");
    let progressChart;

    // Función para mostrar una sección y ocultar las demás
    function showSection(section) {
      Object.values(sections).forEach(sec => sec.classList.add("hidden"));
      sections[section].classList.remove("hidden");
      if(section === "registro"){
        generarRegistroInputs();
        actualizarChart();
      }
    }

    // Event listeners para la navegación
    navLinks.forEach(link => {
      link.addEventListener("click", () => {
        const section = link.getAttribute("data-section");
        showSection(section);
      });
    });

    // Función para mostrar la rutina seleccionada
    function mostrarRutina() {
      currentFase = selectFase.value;
      currentDia = selectDia.value;
      const rutina = routines[currentFase][currentDia];
      let html = `<h3 class="text-lg font-bold mb-2">${rutina.title}</h3>`;
      html += `<ul class="space-y-2">`;
      rutina.exercises.forEach((ex, index) => {
        html += `<li class="border p-2 rounded bg-gray-50">
                  <p class="font-semibold">${ex.name}</p>
                  <p class="text-sm">Series: ${ex.sets} | Reps: ${ex.reps} | Tempo: ${ex.tempo} | Descanso: ${ex.rest}</p>
                  <p class="text-sm italic">Alternativa: ${ex.alternatives}</p>
                </li>`;
      });
      html += `</ul>`;
      routineContent.innerHTML = html;
    }

    selectFase.addEventListener("change", mostrarRutina);
    selectDia.addEventListener("change", mostrarRutina);

    // Inicializa la rutina al cargar
    mostrarRutina();

    // Función para generar inputs de registro basados en la rutina seleccionada
    function generarRegistroInputs() {
      const rutina = routines[currentFase][currentDia];
      let html = `<h3 class="font-bold mb-2">${rutina.title} - Registro de Pesos</h3>`;
      rutina.exercises.forEach((ex, index) => {
        html += `<div class="mb-4 border-b pb-2">
                  <p class="font-semibold">${ex.name} <span class="text-sm italic">(${ex.sets} series x ${ex.reps})</span></p>
                  <div class="grid grid-cols-${ex.sets} gap-2 mt-2">`;
        for (let i = 1; i <= ex.sets; i++) {
          html += `<input type="number" min="0" step="0.5" placeholder="Serie ${i} (kg)" data-exercise="${index}" data-set="${i}" class="p-2 border rounded" />`;
        }
        html += `</div>
                 </div>`;
      });
      registroInputs.innerHTML = html;
    }

    // Función para guardar los progresos en localStorage
    btnGuardar.addEventListener("click", () => {
      const inputs = registroInputs.querySelectorAll("input");
      let sessionRecord = {
        fecha: new Date().toLocaleString(),
        fase: currentFase,
        dia: currentDia,
        data: []
      };
      inputs.forEach(input => {
        sessionRecord.data.push({
          exerciseIndex: input.getAttribute("data-exercise"),
          set: input.getAttribute("data-set"),
          weight: parseFloat(input.value) || 0
        });
      });
      progressData.push(sessionRecord);
      localStorage.setItem("progressData", JSON.stringify(progressData));
      alert("¡Progreso guardado!");
      actualizarChart();
    });

    // Función para actualizar el gráfico con los datos guardados
    function actualizarChart() {
      const labels = progressData.map(rec => rec.fecha);
      const totals = progressData.map(rec => {
        return rec.data.reduce((sum, item) => sum + item.weight, 0);
      });
      if (progressChart) {
        progressChart.destroy();
      }
      progressChart = new Chart(progressChartCtx, {
        type: 'line',
        data: {
          labels: labels,
          datasets: [{
            label: 'Peso Total (kg)',
            data: totals,
            backgroundColor: 'rgba(59,130,246,0.5)',
            borderColor: 'rgba(59,130,246,1)',
            borderWidth: 2,
            fill: true,
            tension: 0.3
          }]
        },
        options: {
          responsive: true,
          scales: {
            y: { beginAtZero: true }
          }
        }
      });
    }

    // Si la sección Registro está activa al cargar, inicializa los inputs y el gráfico
    if (!sections.registro.classList.contains("hidden")) {
      generarRegistroInputs();
      actualizarChart();
    }
  </script>
</body>
</html>
